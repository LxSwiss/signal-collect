<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Console - Signal/Collect</title>
    <link rel="stylesheet" href="main.css">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="d3.js"></script>
    <script type="text/javascript" src="reconnecting-websocket.min.js"></script>
    <script type="text/javascript" src="layout.js"></script>
    <script type="text/javascript" src="main.js"></script>
    <script type="text/javascript" src="controls.js"></script>
    <script type="text/javascript" src="graph.js"></script>
    <script type="text/javascript" src="resources.js"></script>
  </head>
  <body>
    <div id="title">
        <img src="sc.png" alt="Signal/Collect Logo">
        <div id="title_text">Signal/Collect</div>
        <div id="title_subtext">Console</div>
    </div>
    <div id="top">
      <div id="error" class="msg">Javascript is required to run this Application.</div>
      <div id="small_error" class="msg">Javascript is required to run this Application.</div>
      <div id="success" class="msg hidden"></div>
    </div>
    <div id="left">

      <div id="modes">
        <span id="mode_graph" class="leftmost selected">Graph</span>
        <span id="mode_resources">Resources</span>
      </div>
      <div id="graph_panel_container">
        <div class="panel">
          <div id="cNodeSelection" class="panel_section">
            <div class="title expanded">Select nodes to display</div>
            <div class="contents">
              <form>
                <h1><span>Search for vertex by ID</span></h1>
                <input id="gs_searchId" type="text">
                <button id="gs_searchById">Find</button><br/>
                <h1><span>Show top vertices</span></h1>
                <label>By:</label>
                <select id="gs_topCriterium">
                  <option>State (Numerical)</option>
                  <option>Degree (Both)</option>
                </select>
                <button id="gs_searchByTop">Find</button><br/>
              </form> 
            </div>
          </div>
          <div id="cGraphDesign" class="panel_section">
            <div class="title expanded">Graph Look and Feel</div>
            <div class="contents">
              <form>
                <h1><span>Node styling</span></h1>
                <label for="gd_nodeSize">Node size:</label>
                <select id="gd_nodeSize">
                  <option>Node state</option>
                  <option>Node degree</option>
                  <option>All equal</option>
                </select><br/>
                <label for="gd_nodeColor">Node color:</label>
                <select id="gd_nodeColor">
                  <option>Node state</option>
                  <option>Node id</option>
                  <option>Node degree</option>
                  <option>Is Vicinity</option>
                  <option>All equal</option>
                </select><br/>
                <label for="gd_nodeBorder">Node outline color:</label>
                <select id="gd_nodeBorder">
                  <option>Node state</option>
                  <option>Node id</option>
                  <option>Node degree</option>
                  <option>Is Vicinity</option>
                  <option>All equal</option>
                </select><br/>
                <h1><span>Performance &amp; Complexity</span></h1>
                <label for="gp_vicinityRadius">Node vicinity radius:</label>
                <select id="gp_vicinityRadius"></select><br/>
                <label for="gp_maxVertices">Target node count (exkl. vicinity):</label>
                <select id="gp_maxVertices"></select>
                <label for="gp_refreshRate">Min. graph refresh rate (seconds):</label>
                <select id="gp_refreshRate"></select>
                <label for="gp_drawEdges">Draw edges:</label>
                <select id="gp_drawEdges">
                  <option>When graph is still</option>
                  <option>Always</option>
                  <option>Never</option>
                </select>
              </form> 
            </div>
          </div>
          <div id="cGraphControl" class="panel_section">
            <div class="title expanded">Graph Execution Control</div>
            <div class="contents">
              <form>
                <h1><span>Breakpoint Conditions</span></h1>
                <div class="top_border"><ul id="gc_conditionList"></ul></div>
                <h1><span>Add New Condition</span></h1>
                <label for="gc_nodeId">When node with id:</label><br/>
                <input id="gc_nodeId" type="text">
                <button id="gc_useMouse">Mouse</button><br/>
                <select id="gc_condition">
                  <option>changes state</option>
                  <option>goes over state</option>
                  <option>goes under state</option>
                  <option>goes over signal threshold</option>
                  <option>goes under signal threshold</option>
                  <option>goes over collect threshold</option>
                  <option>goes under collect threshold</option>
                </select>
                <button id="gc_addCondition">Add</button><br/>
              </form> 
            </div>
          </div>

        </div>
      </div>
      <div id="resources_panel_container">
        <div class="panel">
          <div id="cResourceComputation"  class="panel_section">
            <div class="title expanded">Computation</div>
            <div class="contents">
              <input type="radio" name="rs" id="rs_statistics"/>
              <label for="rs_statistics">Statistics</label><br/>
              <input type="radio" name="rs" id="rs_logs"/>
              <label for="rs_logs">Logs</label><br/>
              <input type="radio" name="rs" id="rs_detailed"/>
              <label for="rs_detailed">Detailed</label>
            </div>
          </div>
          <div id="cResourceProblems" class="panel_section">
            <div class="title expanded">Questions</div>
            <div class="contents">

              <input type="radio" name="rs" id="rs_nostart"/>
              <label for="rs_nostart">Computation does not seem to start</label><br/>

              <input type="radio" name="rs" id="rs_noconvergence"/>
              <label for="rs_noconvergence">Computation does not converge</label><br/>

              <input type="radio" name="rs" id="rs_crash"/>
              <label for="rs_crash">Computation crashes</label><br/>

              <input type="radio" name="rs" id="rs_slow"/>
              <label for="rs_slow">Computation takes very long</label><br/>

              <input type="radio" name="rs" id="rs_estimation"/>
              <label for="rs_estimation">Maximum graph size estimation</label><br/>

              <input type="radio" name="rs" id="rs_unexpectedresults"/>
              <label for="rs_unexpectedresults">Unexpected results</label><br/>

              <input type="radio" name="rs" id="rs_phase"/>
              <label for="rs_phase">Computation phases</label><br/>

              <input type="radio" name="rs" id="rs_loadingspeed"/>
              <label for="rs_loadingspeed">Graph loading speed and estimated completion</label><br/>
            </div>
          </div>
        </div>
      </div>
      <div id="controls">
        <div class="hidden blocker"></div>
        <div id="reset" class="icon blocked"></div>
        <div id="step" class="icon blocked"></div>
        <div id="pause" class="icon blocked hidden"></div>
        <div id="continue" class="icon blocked"></div>
        <div id="terminate" class="icon blocked"></div>
      </div>
      <div id="status">
      </div>
    </div>
    <div id="content">
      <div class="view" id="graph">
        <div id="graph_background_container">
          <div id="graph_background">Loading...</div>
        </div>
        <div id="graph_tooltip">
          <div class="graph_tooltip_item">Id: <span id="node_id"></span></div>
          <div class="graph_tooltip_item">State: <span id="node_state"></span></div>
        </div>
        <div id="graph_canvas"></div>
      </div>
      <div class="view" id="resources">
        <div class="structured">
        
          <!-- content resource section statistics -->
          <div id="crs_statistics">
            <h1>Statistics</h1>
            <p><small>Updating every <span id="resStatInterval">?</span> second(s).</small></p>
          </div>
        
          <!-- content resource section estimations -->
          <div id="crs_estimation"><h1>Maximum Graph Size Estimation</h1></div>
        
          <!-- content resource section overview -->
          <div id="crs_logs"><h1>Logs</h1></div>

          <div id="crs_nostart"><h1>Computation does not seem to start</h1></div>
          <div id="crs_noconvergence">
            <h1>Computation does not converge</h1>
            <ul>
              <li><a target="_blank" href='/graph#{"graph":{"options":{"gd_nodeSize":"Node state","gd_nodeBorder":"Node state","gp_vicinityRadius":"2","gc_maxVertices":"40"}}}'>Show Graph with State Visualization</a></li>
            </ul>
          </div>
          <div id="crs_crash"><h1>Computation crashes</h1></div>
          <div id="crs_slow"><h1>Computation takes very long</h1></div>
          <div id="crs_unexpectedresults">
            <h1>Computation yields unexpected results</h1>
            <ul>
              <li>Set Breakpoints</li>
              <li><a target="_blank" href='/graph#{"graph":{"options":{"gd_nodeSize":"Node state","gd_nodeBorder":"Node state","gp_vicinityRadius":"2","gc_maxVertices":"40"}}}'>Show Graph with State Visualization</a></li>
            </ul>
          </div>
        
          <!-- content resource section overview -->
          <div id="crs_detailed">
            <h1>Detailed</h1>
            <p><strong style="color:blue;">min</strong>,
               <strong>average</strong>,
               <strong style="color:red;">max</strong> values over all worker nodes.</p> 
            <div class="chartContainer"></div>
          </div>
          
          <div id="resourceBoxes">
          
            <div id="signalCollectTitle" style="float:none; clear:left;"><h2>Signal/Collect</h2></div>
            <div id="infrastructureTitle"><h2>Infrastructure</h2></div>
        
            <div id="computationStatBox">
              <h3>Computation</h3>
              <ul class="statistics">
                <li>Start Time: <span id="resStatStartTime">?</span></li>
                <li>Running for: <span id="resStatRunTime">?</span></li>
                <li>Status: <span id="resStatStatus">waiting</span></li>
                <li>Number of Workers: <span id="resStatWorkers">?</span></li>
                <li>Execution Mode: <span id="resStatexecutionMode">?</span></li>
                <li>Global Termination Condition: <span id="resStatglobalTerminationCondition">?</span></li>
                <li>Steps Limit: <span id="resStatstepsLimit">?</span></li>
                <li>Time Limit: <span id="resStattimeLimit">?</span></li>
                <li>Signal Threshold: <span id="resStatsignalThreshold">?</span></li>
                <li>Collect Threshold: <span id="resStatcollectThreshold">?</span></li>
              </ul>
            </div>

            <div id="infrastructureStatBox">
              <h3>Infrastructure</h3>
              <ul class="statistics free"></ul>
            </div>

            <div id="graphStatBox">
              <h3>Graph</h3>
              <ul class="statistics free"></ul>
            </div>

            <div id="estimationStatBox">
              <h3>Graph Size Estimation</h3>
              <p>Waiting for more data.</p>
            </div>
        
            <div id="logBox">
              <p class="filter level">
                Level:
                <span class="active">
                  Error (<span>0</span>)
                </span><span class="active">
                  Warning (<span>0</span>)
                </span><span class="active">
                  Info (<span>0</span>)
                </span><span>
                  Debug (<span>0</span>)
                </span>
              </p>
              <p class="filter source">
                Source:
                <span class="active">
                  Akka
                </span><span class="active">
                  Signal/Collect
                </span><span class="active">
                  User
                </span>
              </p>
              <div class="scroll"><div><ul></ul></div></div>
            </div>
        
          
          </div>
          
        </div>
      </div>
    </div>
  </body>
</html>
